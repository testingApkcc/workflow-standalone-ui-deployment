(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9425],{14606:function(e,t,s){Promise.resolve().then(s.bind(s,53748))},23765:function(e,t,s){"use strict";s.d(t,{Zv:function(){return r},tY:function(){return n}});let a=(0,s(82308).oM)({name:"addProject",initialState:{name:"",description:"",department:"",start_date:"",end_date:"",image_url:"",id:""},reducers:{updateFormData:(e,t)=>(console.log(t.payload),{...e,...t.payload}),updateId:(e,t)=>{console.log("project d",t.payload),e.id=t.payload}}}),{updateFormData:r,updateId:n}=a.actions;t.ZP=a.reducer},53748:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var a=s(57437),r=s(2265),n=s(92173),o=s(96788),l=s(82641),i=s(77322),c=s(43191),d=s(34267),m=s(61396),p=s.n(m);s(20045);var x=s(89994),j=s(41858),h=s(20068),u=s(49440),g=s(93046);s(97454);var f=s(24033),y=s(88123);s(79171),s(16691),s(55152);var b=s(62067),D=s.n(b),v=s(23765);let{RangePicker:N}=x.default,w={labelCol:{span:8},wrapperCol:{span:16}},P={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}};s(62199);var I=s(65362),Z=s(34021),S=[{id:1,name:{image:{src:"https://cdn.pixabay.com/photo/2017/06/26/02/47/man-2442565_1280.jpg"},name:"Lori Bryson"},Designation:"UX Designer",MailID:"Demo@mail.com"},{id:2,name:{image:{src:"https://cdn.pixabay.com/photo/2015/07/20/12/53/gehlert-852762_1280.jpg"},name:"Lori Bryson"},Designation:"UX Designer",MailID:"Demo@mail.com"},{id:3,name:{image:{src:"https://cdn.pixabay.com/photo/2015/08/05/04/02/people-875597_1280.jpg"},name:"Lori Bryson"},Designation:"UX Designer",MailID:"Demo@mail.com"},{id:4,name:{image:{src:"https://cdn.pixabay.com/photo/2017/09/25/13/12/man-2785071_1280.jpg"},name:"Lori Bryson"},Designation:"UX Designer",MailID:"Demo@mail.com"},{id:5,name:{image:{src:"https://cdn.pixabay.com/photo/2015/08/05/04/25/people-875617_1280.jpg"},name:"Lori Bryson"},Designation:"UX Designer",MailID:"Demo@mail.com"}],_=s(70723);let{Search:k}=h.default,C=(e,t,s)=>console.log(null==s?void 0:s.source,e),{Step:T}=o.default,Y=[{title:"Set up Project",content:(0,a.jsx)(e=>{let{receiveFormDataFromChild:t}=e,[s,n]=(0,r.useState)();(0,g.v9)(e=>e.addProject);let o=(0,g.I0)(),l=e=>{p({...m,[e.target.name]:e.target.value}),o((0,v.Zv)({...m,[e.target.name]:e.target.value})),console.log(m)},i=async e=>{let t=e.file.originFileObj;t&&n(await d(t))},d=e=>new Promise((t,s)=>{let a=new FileReader;a.onloadend=()=>{t(a.result.split(",")[1])},a.onerror=e=>{s(e)},a.readAsDataURL(e)});(0,f.useRouter)();let[m,p]=(0,r.useState)({projectName:"",projectDescription:"",projectDepartment:"",startDate:"",endDate:"",projectId:"",image_url:"https://i.imgur.com/PujQY5Y.png"});return console.log((0,g.v9)(e=>e.addProject)),(0,a.jsx)("div",{children:(0,a.jsx)("section",{className:"flex flex-col items-center flex-shrink-0  w-auto py-1 bg-white ",children:(0,a.jsxs)(j.Z,{...w,name:"nest-messages",style:{maxWidth:600},validateMessages:P,children:[(0,a.jsx)(j.Z.Item,{name:["ProjectName"],label:"Project Name",rules:[{message:"Please input the project name!"}],children:(0,a.jsx)(h.default,{value:m.projectName,onChange:l,name:"projectName",id:"projectName"})}),(0,a.jsx)(j.Z.Item,{name:["projectDescription"],label:"Project Description",rules:[{message:"Please input the project description!"}],children:(0,a.jsx)(h.default,{name:"projectDescription",id:"projectDescription",value:m.projectDescription,onChange:l})}),(0,a.jsx)(j.Z.Item,{name:["projectDepartment"],label:"Project Department",rules:[{message:"Please input the project department!"}],children:(0,a.jsx)(h.default,{name:"projectDepartment",id:"projectDepartment",value:m.projectDepartment,onChange:l})}),(0,a.jsx)(j.Z.Item,{name:"range-time-picker",label:"Project Duration",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(x.default,{id:"projectStartDate",placeholder:"Start Date",className:"text-slate-500 font-sans text-sm font-normal not-italic leading-6 pb-1 self-stretch items-center flex-1 border rounded-sm border-slate-200  px-1 py-1 h-8 w-[184px] m-1",onChange:(e,t)=>{p({...m,startDate:D()(t).format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")})}}),(0,a.jsx)("span",{children:"-"}),(0,a.jsx)(x.default,{id:"projectEndDate",placeholder:"End Date",className:"text-slate-500 font-sans text-sm font-normal not-italic leading-6 pb-1 self-stretch items-center flex-1 border rounded-sm border-slate-200shadow px-1 py-1 h-8 w-[184px] m-1",onChange:(e,t)=>{p({...m,endDate:D()(t).format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")})}})]})}),(0,a.jsx)(j.Z.Item,{name:"Project Icon",label:"Project Icon",valuePropName:"fileList",getValueFromEvent:e=>null==e?void 0:e.fileList,children:(0,a.jsx)(u.Z,{name:"image_url",type:"file",accept:"image/*",className:"flex flex-col items-start ml-1",action:"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188",listType:"picture",alt:"Uploaded Image",onChange:i,children:(0,a.jsx)(c.ZP,{icon:(0,a.jsx)(y.Z,{}),children:"Click to Upload"})})})]})})})},{})},{title:"Resource pool",content:(0,a.jsx)(d.Z,{})},{title:"Review",content:(0,a.jsx)(()=>{let e=(0,g.v9)(e=>e.addResources);e.ProjectManager[0].resoucesInfo,e.UXDesigner[0].resoucesInfo,e.UIDeveloper[0].resoucesInfo,e.APIDeveloper[0].resoucesInfo,e.Tester[0].resoucesInfo,e.UXResearcher[0].resoucesInfo,e.CICDSpecialist[0].resoucesInfo;let t=e.resoucesInfo;console.log(t);let[s,n]=(0,r.useState)(S),o=(0,g.v9)(e=>e.addProject);console.log(o);let l=e=>{let t=s.filter(t=>t.id!==e);console.log(t),n(t)};return(0,g.I0)(),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"rounded-md mt-5 space-y-5 p-5 bg-white",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h1",{className:"text-xl font-bold leading-snug tracking-normal text-left",children:"Setup project"}),(0,a.jsxs)("div",{className:"space-x-8",children:[(0,a.jsx)(c.ZP,{icon:(0,a.jsx)(I.Z,{}),children:"Edit"}),(0,a.jsx)(c.ZP,{type:"primary",className:"bg-blue-500",children:"create"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-10 w-screen items-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:o.image_url,className:"w-[7rem] h-[7rem] rounded-md"})}),(0,a.jsxs)("div",{className:"flex  ",children:[(0,a.jsxs)("div",{className:"p-5 space-y-10 mx-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Project Name"}),(0,a.jsx)("h3",{className:"font-semibold",children:o.projectName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Project department"}),(0,a.jsx)("h3",{className:"font-semibold",children:o.projectDepartment})]})]}),(0,a.jsxs)("div",{className:"p-5 space-y-10 mx-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Project Description"}),(0,a.jsx)("h3",{className:"font-semibold",children:o.projectDescription})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Project Duration"}),(0,a.jsxs)("h3",{className:"font-semibold",children:[o.startDate,"TO ",o.endDate]})]})]})]})]})]})}),(0,a.jsxs)("div",{className:"mt-5 flex flex-col space-y-4 bg-white rounded-md p-10",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold leading-normal tracking-normal text-left",children:"Resource Pool"}),(0,a.jsx)("div",{children:(0,a.jsx)(k,{placeholder:"Search employe",onSearch:C,style:{width:"16.5rem",height:"2rem"}})})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-black uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Designation"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-black uppercase tracking-wider",children:"Mail ID"}),(0,a.jsx)("th",{className:"px-6 ml-9 py-3 text-left text-xs font-medium text-black uppercase tracking-wider",colSpan:2,children:"Actions"})]})}),t.map((e,t)=>(console.log(e.first_name),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(0,a.jsxs)("tr",{className:"bg-white",children:[(0,a.jsx)("td",{className:"py-2 whitespace-nowrap",children:(0,a.jsx)("div",{className:"flex items-center space-x-5",children:(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]})})}),(0,a.jsx)("td",{className:"py-2 text-sm text-center font-medium text-gray-900",children:e.Designation}),(0,a.jsx)("td",{className:"py-2 text-sm font-medium text-gray-900",children:e.email}),(0,a.jsxs)("td",{className:"py-2 whitespace-nowrap text-sm space-x-5",children:[(0,a.jsx)(c.ZP,{icon:(0,a.jsx)(I.Z,{}),children:"Edit"}),(0,a.jsx)(c.ZP,{type:"primary",danger:!0,icon:(0,a.jsx)(Z.Z,{}),onClick:()=>l(e.id),children:"Remove"})]})]})},t)))]})})]})]})},{})}];function M(e){let{formNext:t}=e,s=(0,g.v9)(e=>e.addProject),m=(0,g.v9)(e=>e.addResources).id[0].resourcesId;console.log(m.map(e=>Object.values(e))),console.log("resoursesId",m);let x=(0,g.v9)(e=>e.addProject.id);console.log("projectId : ",x),console.log("resourceIn Project",m),console.log(s);let[j,h]=(0,r.useState)(!1),[u,f]=(0,r.useState)({}),y=e=>{S((0,_.N3)(e))};d.Z;let{token:b}=l.Z.useToken(),[D,N]=(0,r.useState)(0),w=Y.map(e=>({key:e.title,title:e.title})),P={textAlign:"center",color:b.colorTextTertiary,marginTop:16},I=async()=>{if(!s.projectName||!s.projectDescription||!s.projectDepartment||!s.startDate||!s.endDate){i.ZP.error("Please fill in all fields before proceeding to the next step");return}if(0===D)try{await Z(s),N(D+1)}catch(e){console.error("Error submitting data:",e)}if(1===D){let e={project_id:x,team_name:s.projectName,created_by_id:"550e8400-e29b-41d4-a716-446655440001",roles:[]};console.log("Before PUT request"),console.log(JSON.stringify(e)),console.log(e),N(D+1),n.Z.request({method:"put",maxBodyLength:1/0,url:"https://spj7xgf470.execute-api.us-east-1.amazonaws.com/dev/project/".concat(x,"/team"),headers:{"Content-Type":"application/json",Accept:"application/json"},data:e}).then(e=>{console.log(JSON.stringify(e.data))}).catch(e=>{console.log(e)})}},Z=async e=>{let t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),console.log(e),console.log(e.projectName);let s=JSON.stringify({name:e.projectName,description:e.projectDescription,department:e.projectDepartment,start_date:e.startDate,end_date:e.endDate,image_url:"https://i.imgur.com/PujQY5Y.png"});console.log("Api.Starting");try{let e=await fetch("https://spj7xgf470.execute-api.us-east-1.amazonaws.com/dev/project",{method:"POST",headers:t,body:s,redirect:"follow"}),a=await e.json();return console.log("success:",a,a.id),S((0,v.tY)(a.id)),a}catch(e){throw console.error("error:",e),e}finally{console.log("Api.ENDING")}},S=(0,g.I0)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-auto py-2 px-1 mb-2 bg-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold ",children:"Create Project"}),(0,a.jsx)("p",{children:"Form pages are used to collect or verify information to users, and basic forms are common in scenarios where there are fewer data items."}),j.toString()]}),(0,a.jsxs)("div",{className:"w-auto py-1 bg-white",children:[(0,a.jsx)(o.default,{current:D,items:w,className:"px-[10rem] py-3"}),(0,a.jsx)("div",{style:P,children:Y[D].content}),(0,a.jsxs)("div",{style:{marginTop:24},children:[D<Y.length-1&&(0,a.jsx)(c.ZP,{type:"primary",onClick:()=>I(),className:"ml-[90%] m-10 px-2 py-1 justify-center items-center rounded-sm border border-blue-500 bg-blue-500 shadow-sm h-8 font-sans text-center text-white text-sm font-normal not-italic leading-3 flex-row-reverse",children:"Next"}),D===Y.length-1&&(0,a.jsx)(p(),{href:"/main/projects/workflowlist",children:(0,a.jsx)(c.ZP,{type:"primary",onClick:()=>{y(x)},className:"ml-[90%] m-10 px-2 py-1 justify-center items-center rounded-sm border border-blue-500 bg-blue-500 shadow-sm h-8 font-sans text-center text-white text-sm font-normal not-italic leading-3 flex-row-reverse",children:"Done"})})]})]})]})}},20045:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(57437),r=s(61396),n=s.n(r);function o(e){let{href:t,children:s}=e;return(0,a.jsx)(n(),{href:t,children:s})}}},function(e){e.O(0,[6990,1465,2634,5424,5250,7133,1749,3191,1288,3399,9307,458,2173,3046,3979,24,2308,697,7241,7928,1209,9994,9940,6788,7874,5267,4267,2971,4938,1744],function(){return e(e.s=14606)}),_N_E=e.O()}]);